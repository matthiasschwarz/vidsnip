(function(t){function e(e){for(var n,r,a=e[0],c=e[1],d=e[2],u=0,v=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&v.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(v.length)v.shift()();return s.push.apply(s,d||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==o[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},o={app:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vidsnip/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var l=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"034f":function(t,e,i){"use strict";var n=i("85ec"),o=i.n(n);o.a},"0ff8":function(t,e,i){"use strict";var n=i("8df5"),o=i.n(n);o.a},1446:function(t,e,i){"use strict";var n=i("ccfc"),o=i.n(n);o.a},"25dc":function(t,e,i){"use strict";var n=i("5def"),o=i.n(n);o.a},"4a48":function(t,e,i){},"5def":function(t,e,i){},"85ec":function(t,e,i){},"8df5":function(t,e,i){},a290:function(t,e,i){"use strict";var n=i("cfd8"),o=i.n(n);o.a},ccfc:function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-navigation-drawer",{attrs:{absolute:"",temporary:""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-alert",{attrs:{text:"",dense:"",type:"warning",icon:!1}},[t._v("VidSnip is not affiliated or endorsed by "),i("a",{attrs:{href:"https://www.youtube.com",target:"_blank"}},[t._v("YouTube")])])]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("v-list",{attrs:{nav:"",dense:""}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-alpha-v-box")])],1),i("v-list-item-title",[t._v("VidSnip")])],1),i("v-divider"),i("v-list-item",{attrs:{link:""},on:{click:t.openCloseableImportDialog}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-import")])],1),i("v-list-item-title",[t._v("Import")])],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-theme-light-dark")])],1),i("v-list-item-action",{staticClass:"ma-0"},[i("v-switch",{staticClass:"pa-0 ma-0",attrs:{dense:"","hide-details":""},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1),i("v-list-item-action-text",{staticClass:"text-subtitle-2",staticStyle:{"margin-left":"12px"}},[t._v("Dark mode")])],1)],1)],1),i("v-app-bar",{attrs:{app:"",color:t.$store.getters.color[t.$vuetify.theme.dark?"dark":"light"],dark:"",dense:""}},[i("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),i("v-toolbar-title",[t._v("VidSnip")]),t.$store.getters.loaded?[i("v-spacer"),i("div",[i("v-tabs",{attrs:{value:t.$store.getters["mode"],"background-color":t.$store.getters.color[t.$vuetify.theme.dark?"dark":"light"]},on:{change:t.switchMode}},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-tab",t._g({},n),[t._v("Play")])]}}],null,!1,1105967702)},[i("span",[t._v("Play mode")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-tab",t._g({},n),[t._v("Edit")])]}}],null,!1,1494764014)},[i("span",[t._v("Edit mode")])])],1)],1)]:t._e()],2),i("v-main",[i("Video",{ref:"video"})],1)],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[i("div",{staticClass:"video-grid fill-parent"},[i("div",{staticClass:"player"},[t.$store.getters.loading?[i("v-skeleton-loader",{attrs:{tile:"",elevation:"0",type:"image",height:"100%",width:"100%"}})]:t._e(),t.$store.getters["video/player/rendering"]?i("v-card",{class:t.$store.getters["video/player/hidden"]?"hidden":"",attrs:{tile:"",flat:"",height:"100%",width:"100%"}},[i("Player",{key:t.playerKey,ref:"player",attrs:{start:t.start},on:{currentTimeChange:t.currentTimeChange}})],1):t._e()],2),i("div",{staticClass:"section-table"},[i("v-card",{staticClass:"fill-parent",attrs:{tile:""}},[i("div",{staticClass:"section-table-grid fill-parent"},[i("div",{staticClass:"section-table-title"},[t.$store.getters.loading?[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-skeleton-loader",{attrs:{type:"card-heading",width:"150px"}})],1)],1)]:[i("v-card-title",[t._v("Sections")])]],2),i("div",{staticClass:"section-table-content"},[t.$store.getters.loading?[i("div",{staticClass:"fill-parent align-center",staticStyle:{"padding-left":"6px","padding-right":"6px"}},[i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"12"}},[i("v-skeleton-loader",{attrs:{type:"text"}})],1)],1),i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"10"}},[i("v-skeleton-loader",{attrs:{type:"text"}})],1)],1)],1)]:[t.$store.getters.isEditMode?[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"justify-center",attrs:{icon:"",width:"100%",disabled:t.$store.getters["video/currentTime"].fullSeconds===t.$store.getters["video/duration"].fullSeconds},on:{click:t.addCurrentSection}},n),[i("v-icon",[t._v("mdi-plus")])],1)]}}],null,!1,2500873036)},[i("span",[t._v("New section")])])],1),i("v-col",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"justify-center",attrs:{icon:"",width:"100%"},on:{click:function(e){t.showIndex=!t.showIndex}}},n),[t.showIndex?i("v-icon",[t._v(" mdi-sort-variant-remove ")]):i("v-icon",[t._v(" mdi-sort-variant ")])],1)]}}],null,!1,1096225199)},[t.showIndex?i("span",[t._v(" Hide indices ")]):i("span",[t._v(" Show indices ")])])],1),i("v-col",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"justify-center",attrs:{icon:"",disabled:t.splitSectionDisabled,width:"100%"},on:{click:function(e){return t.$store.dispatch("splitSectionWithHistory")}}},n),[i("v-icon",[t._v("mdi-arrow-split-vertical")])],1)]}}],null,!1,3197141090)},[i("span",[t._v("Split current section")])])],1),i("v-col",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"justify-center",attrs:{icon:"",width:"100%",disabled:!t.$store.getters["history/isUndo"]},on:{click:function(e){return t.$store.dispatch("undo")}}},n),[i("v-icon",[t._v("mdi-undo")])],1)]}}],null,!1,4049250456)},[i("span",[t._v(t._s(t.$store.getters["history/undoTooltip"]))])])],1),i("v-col",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"justify-center",attrs:{icon:"",width:"100%",disabled:!t.$store.getters["history/isRedo"]},on:{click:function(e){return t.$store.dispatch("redo")}}},n),[i("v-icon",[t._v("mdi-redo")])],1)]}}],null,!1,168466612)},[i("span",[t._v(t._s(t.$store.getters["history/redoTooltip"]))])])],1)],1)]:t._e(),i("v-simple-table",{attrs:{"fixed-header":"",height:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[t.$store.getters.isEditMode?i("th"):t._e(),t.showIndex&&t.$store.getters.isEditMode?i("th"):t._e(),i("th",{staticClass:"text-center"},[t._v("Start")]),i("th",{staticClass:"text-center"},[t._v("End")]),t.$store.getters.isEditMode?i("th"):t._e()])]),i("tbody",t._l(t.$store.getters["video/sections/sections"],(function(e,n){return i("tr",{key:n,class:t.$store.getters["video/sections/index"]===n?"highlight-section-"+(t.$vuetify.theme.dark?"dark":"light"):""},[t.$store.getters.isEditMode?[i("td",{staticStyle:{padding:"0"}},[t.$store.getters["video/sections/index"]!==n?[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.playSection(n)}}},Object.assign({},o)),[i("v-icon",{attrs:{small:""}},[t._v("mdi-play")])],1)]}}],null,!0)},[i("span",[t._v("Play")])])]:[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.$store.commit("video/sections/index",-1)}}},Object.assign({},n)),[i("v-icon",{attrs:{small:""}},[t._v("mdi-selection-off")])],1)]}}],null,!0)},[i("span",[t._v("Deselect")])])]],2)]:t._e(),t.showIndex&&t.$store.getters.isEditMode?[i("td",[i("IndexMenu",{attrs:{index:n}})],1)]:t._e(),t.$store.getters.isPlayMode?[i("td",[t._v(t._s(e.start.toString()))]),i("td",[t._v(t._s(e.end.toString()))])]:t.$store.getters.isEditMode?[i("td",[i("TimestampMenu",{attrs:{type:"section start",initial:e.start,max:{type:"section end",value:e.end}},on:{save:function(i){return t.$store.dispatch("updateSectionStartWithHistory",{index:n,section:{start:i,end:e.end}})}}})],1),i("td",[i("TimestampMenu",{attrs:{type:"section end",initial:e.end,min:{type:"section start",value:e.start},max:{type:"duration",value:t.$store.getters["video/duration"]}},on:{save:function(i){return t.$store.dispatch("updateSectionEndWithHistory",{index:n,section:{start:e.start,end:i}})}}})],1),i("td",{staticStyle:{padding:"0"}},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.$store.dispatch("removeSectionWithHistory",n)}}},o),[i("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)]}}],null,!0)},[i("span",[t._v("Delete section")])])],1)]:t._e()],2)})),0)]},proxy:!0}])}),0!==t.$store.getters["video/sections/sections"].length?[i("v-divider")]:[i("div",{staticStyle:{width:"100%"}},[i("v-alert",{staticClass:"text-center text-body-1",attrs:{tile:""}},[t._v("No sections")])],1)]]],2)])])],1),i("div",{staticClass:"player-control"},[i("PlayerControl",{ref:"playerControl"})],1)]),i("import-project-dialog",{ref:"importDialog",on:{rerenderPlayer:t.rerenderPlayer}})],1)},a=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fill-parent"},[i("youtube",t._g(t._b({ref:"youtube",attrs:{height:"100%",width:"100%","video-id":t.$store.getters["video/id"],"player-vars":{start:t.start,end:t.end},nocookie:""},on:{ready:t.ready,playing:t.playing}},"youtube",t.$attrs,!1),t.$listeners))],1)},d=[],l=(i("a9e3"),i("96cf"),i("1da1")),u=i("e313"),v={name:"Player",inheritAttrs:!1,props:{start:Number,end:Number},computed:{player:function(){return this.$refs.youtube.player}},methods:{emitCurrentTimeChange:function(t,e){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i.$emit("currentTimeChange",t,e);case 1:case"end":return n.stop()}}),n)})))()},patchPlayerInfo:function(t){var e=t.playerInfo,i=this.patchCurrentTimeProperty;Object.defineProperty(t,"playerInfo",{get:function(){return this._playerInfo},set:function(t){this._playerInfo=t,i(t)}}),t.playerInfo=e},patchCurrentTimeProperty:function(t){var e=this.emitCurrentTimeChange;Object.defineProperty(t,"currentTime",{get:function(){return this._currentTime},set:function(t){t!==this._currentTime&&e(t,this._currentTime),this._currentTime=t}})},ready:function(t){var e=this;this.$store.commit("video/player/player",t),this.currentTimeIntervalId=setInterval((function(){var i=u["c"].fromSeconds(t.getCurrentTime());e.$store.getters["video/currentTime"].fullSeconds!==i.fullSeconds&&e.$store.commit("video/currentTime",i)}),100),this.$store.commit("video/player/state",-1),this.$store.commit("video/duration",u["c"].fromSeconds(t.getDuration())),this.$store.commit("loaded",!0),this.$store.commit("video/player/hidden",!1)},playing:function(t){this.estimatedDuration&&(this.$store.commit("video/duration",u["c"].fromSeconds(t.getDuration())),this.estimatedDuration=!1)}},data:function(){return{estimatedDuration:!0,unwatchCurrentTime:void 0,currentTimeIntervalId:void 0}},mounted:function(){var t=this;this.player.addEventListener("onStateChange",(function(e){return t.$store.commit("video/player/state",e.data)})),this.unwatchCurrentTime=this.$store.watch((function(t,e){return e["video/currentTime"]}),(function(e,i){var n=t.$store.getters["video/sections/currentSection"],o=t.$store.getters["video/player/state"];if(void 0!==n&&(1===o||2===o||3===o)){var s=n.start.fullSeconds,r=n.end.fullSeconds;if(e.fullSeconds<s||e.fullSeconds>r){var a=i.fullSeconds,c=e.fullSeconds;(a<s||a>r)&&(c<s||c>r)&&(t.$store.getters.isPlayMode?(t.$store.getters["video/player/player"].seekTo((a<s||a>r)&&(c<s||c>r)?s:i.fullSeconds,!0),1!==o&&3!==o||t.$store.getters["video/player/player"].playVideo()):t.$store.commit("video/sections/index",-1))}else if(e.fullSeconds===r){var d=t.$store.getters["video/sections/index"];if(t.$store.getters.isEditMode)t.$store.getters["video/player/player"].seekTo(s,!0);else if(d<t.$store.getters["video/sections/sections"].length-1){var l=d+1;t.$store.commit("video/sections/index",l),t.$store.getters["video/player/player"].seekTo(t.$store.getters["video/sections/sections"][l].start.fullSeconds,!0)}else e.fullSeconds!==t.$store.getters["video/duration"].fullSeconds&&t.$store.getters["video/player/player"].seekTo(t.$store.getters["video/duration"].fullSeconds+1,!0)}}}))},destroyed:function(){this.unwatchCurrentTime(),clearInterval(this.currentTimeIntervalId)}},f=v,h=(i("e492"),i("2877")),p=Object(h["a"])(f,c,d,!1,null,"1a3a00ed",null),m=p.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{width:"initial",tile:"","close-on-click":!1,"close-on-content-click":!1},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.show=!1}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g(t._b({staticClass:"text-body-2 pa-0",attrs:{text:"","min-width":"auto"}},"v-btn",o,!1),Object.assign({},s,n)),[t._v(t._s(t.initial.toString()))])]}}],null,!0)},[i("span",[t._v("Edit")])])]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.show?i("TimestampEdit",{ref:"edit",attrs:{type:t.type,initial:t.initial,min:t.min,max:t.max},on:{save:t.onSave,cancel:function(e){t.show=!1}}}):t._e()],1)},y=[],x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[t._v("Edit "+t._s(t.type))]),i("v-card-text",{staticStyle:{"padding-bottom":"0"}},[i("TimestampField",t._b({ref:"field",attrs:{min:t.min,max:t.max},on:{valid:function(e){t.disabledSave=!1},invalid:function(e){t.disabledSave=!0},enter:t.onSave}},"TimestampField",t.$attrs,!1))],1),i("v-card-actions",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("v-btn",{attrs:{tile:"",text:"",block:"",small:"",color:"green",disabled:t.disabledSave},on:{click:function(e){return t.onSave()}}},[t._v("Save")])],1),i("v-col",[i("v-btn",{attrs:{tile:"",text:"",block:"",small:"",color:"red"},on:{click:function(e){return t.onCancel()}}},[t._v("Cancel")])],1)],1)],1)],1)},S=[],b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",{staticClass:"pa-0",attrs:{dense:""}},[0!==t.units.length?i("v-list-item",{staticClass:"pa-0"},[i("v-row",{attrs:{"no-gutters":"",justify:"center"}},[i("v-col",{attrs:{"align-self":"center"}},[i("div",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:"",disabled:t.currentTimeDisabled},on:{click:t.setToCurrentTime}},n),[i("v-icon",[t._v(" mdi-arrow-expand-horizontal ")])],1)]}}],null,!1,417729036)},[i("span",[t._v(" Current time ")])])],1)]),t._l(t.units,(function(e,n){return[0!==n?i("v-col",{key:"separator-"+n,staticStyle:{"max-height":"48px","padding-left":"4px","padding-right":"4px"},attrs:{cols:"auto"}},[i("div",{staticStyle:{"margin-top":"23px"}},[t._v(t._s(e.format.separator))])]):t._e(),i("v-col",{key:"unit-"+n,staticStyle:{"max-height":"48px"},attrs:{cols:"auto"}},[i("BoundedIntegerField",{ref:t.unitRef(e),refInFor:!0,attrs:{label:e.format.shortName,min:e.format.minValue,max:e.format.maxValue,placeholder:t.initial.getUnit(e.format.identifier).value},on:{input:function(i){return t.onFieldInput(e,i)},enter:t.onEnter}})],1)]})),i("v-col",{staticClass:"text-right",attrs:{"align-self":"center"}},[i("div",{staticClass:"justify-end"},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:t.setToInitial}},n),[i("v-icon",[t._v(" mdi-delete ")])],1)]}}],null,!1,882937692)},[i("span",[t._v(" Delete ")])])],1)])],2)],1):t._e(),i("v-list-item",{staticStyle:{"min-height":"auto","padding-left":"0","padding-right":"0","padding-top":"8px"}},[i("v-alert",{ref:"error",staticClass:"text-body-2 ma-0",attrs:{dense:"",text:"",type:"error",icon:!1},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v(t._s(t.errorMessage))])],1)],1)},_=[],$=(i("c740"),i("a434"),i("d3b7"),i("25f0"),i("b85c")),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-text-field",{style:{width:t.styleWidth+"em"},attrs:{min:t.min,max:t.max,label:t.label,placeholder:t.placeholder.toString(),rules:[t.inRange],"hide-details":!0,type:"text",inputmode:"numeric",autocomplete:"off"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)}},nativeOn:{input:function(e){return t.onInput(e)},beforeinput:function(e){return t.onValueInput(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},k=[],T=(i("caad"),i("aff5"),i("e6e1"),i("4d63"),i("ac1f"),i("2532"),i("466d"),RegExp(/[^0-9]/g)),V="insert",C=["insertText","insertFromYank","insertFromDrop","insertFromPaste","insertTranspose","insertCompositionText","insertFromComposition"],I={name:"BoundedIntegerField",props:{min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},placeholder:Number,label:String,inclusive:{type:Boolean,default:!0}},data:function(){return{value:"",inRange:void 0}},methods:{onEnter:function(){this.valid&&this.$emit("enter")},onInput:function(t){this.$emit("input",t)},inRangeInclusive:function(t){return t>=this.min&&t<=this.max},inRangeExclusive:function(t){return t>this.min&&t<this.max},onValueInput:function(t){t.inputType.includes(V)&&(!C.includes(t.inputType)||t.data.match(T)||t.target.value.length+t.data.length-(t.target.selectionEnd-t.target.selectionStart)>this.width)&&t.preventDefault()},clear:function(){this.value=""}},computed:{width:function(){return Math.max(this.min.toString().length,this.max.toString().length)},styleWidth:function(){return.575*this.width},integerValue:function(){return parseInt(this.value)},valid:function(){var t=this.integerValue;return isNaN(t)||this.inRange(t)}},watch:{valid:function(t){t?this.$emit("valid"):this.$emit("invalid",this.value<this.min?{type:u["b"].LESS,min:this.min}:this.value>this.max?{type:u["b"].GREATER,max:this.max}:{type:u["b"].UNKNOWN})}},beforeMount:function(){this.inRange=this.inclusive?this.inRangeInclusive:this.inRangeExclusive}},E=I,j=(i("a290"),i("6544")),M=i.n(j),O=i("8654"),R=Object(h["a"])(E,w,k,!1,null,null,null),P=R.exports;M()(R,{VTextField:O["a"]});var D={name:"TimestampField",components:{BoundedIntegerField:P},props:{type:String,initial:u["c"],min:Object,max:Object},data:function(){return{value:u["c"],invalid:[]}},computed:{currentTimeDisabled:function(){return!!(this.max&&this.$store.getters["video/currentTime"].fullSeconds>=this.max.value.fullSeconds)||!!(this.min&&this.$store.getters["video/currentTime"].fullSeconds<=this.min.value.fullSeconds)},error:function(){return 0!==this.invalid.length},errorMessage:function(){var t=this.invalid[this.invalid.length-1];if(void 0!==t)switch(t.type){case"UnitRange":return t.args.getName(2)+" must be between "+t.args.minValue+" and "+t.args.maxValue;case"HigherTimestamp":return"Must be lower than the "+t.args.type+" of "+t.args.value.toString();case"LowerTimestamp":return"Must be higher than the "+t.args.type+" of "+t.args.value.toString();case"NoUnits":return"No change possible"}return""},units:function(){return this.max.value.trimToArray()}},mounted:function(){this.value=this.initial.clone()},methods:{setToCurrentTime:function(){this.value=this.$store.getters["video/currentTime"].clone();var t,e=Object($["a"])(this.units);try{for(e.s();!(t=e.n()).done;){var i=t.value,n=this.$refs[this.unitRef(i)][0],o=this.value.getUnitValue(i.format.identifier),s=n.value;this.initial.getUnitValue(i.format.identifier)===o?n.value="":o!==s&&(n.value=o)}}catch(r){e.e(r)}finally{e.f()}0!==this.invalid.length&&(this.invalid=[],this.$emit("valid"))},setToInitial:function(){this.value=this.initial.clone();var t,e=Object($["a"])(this.units);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.$refs[this.unitRef(i)][0].value=""}}catch(n){e.e(n)}finally{e.f()}0!==this.invalid.length&&(this.invalid=[],this.$emit("valid"))},onEnter:function(){this.error||this.$emit("enter",this.value)},onFieldInput:function(t,e){var i=this.unitField(t);if(e.target.value){if(i.valid){this.value.setUnitValue(t.format.identifier,i.integerValue);var n=this.invalid.findIndex((function(e){return"UnitRange"===e.type&&e.args===t.format}));-1!==n&&(this.invalid.splice(n,1),0===this.invalid.length&&this.$emit("valid"))}else if(-1===this.invalid.findIndex((function(e){return"UnitRange"===e.type&&e.args===t.format}))){var o={type:"UnitRange",args:t.format};this.invalid.push(o),this.$emit("invalid",{invalid:o,array:this.invalid})}}else this.value.copyUnitValue(t.format.identifier,this.initial);function s(t,e,i,n){var o=t.invalid.findIndex((function(t){return t.type===i}));if(e){if(-1===o){var s={type:i,args:n};t.invalid.push(s),t.$emit("invalid",{invalid:s,array:t.invalid})}}else-1!==o&&(t.invalid.splice(o,1),0===t.invalid.length&&t.$emit("valid"))}this.min&&s(this,this.value.fullSeconds<=this.min.value.fullSeconds,"LowerTimestamp",this.min),this.max&&s(this,this.value.fullSeconds>=this.max.value.fullSeconds,"HigherTimestamp",this.max)},unitRef:function(t){return t.format.identifier+"Field"},unitField:function(t){return this.$refs[this.unitRef(t)][0]},clear:function(){var t,e=Object($["a"])(this.units);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.unitField(i).clear()}}catch(n){e.e(n)}finally{e.f()}this.invalid=[],this.value=this.initial.clone()}}},A=D,N=(i("25dc"),i("0798")),F=i("8336"),U=i("62ad"),L=i("132d"),B=i("8860"),H=i("da13"),W=i("0fd9"),G=i("3a2f"),X=Object(h["a"])(A,b,_,!1,null,"680effee",null),q=X.exports;M()(X,{VAlert:N["a"],VBtn:F["a"],VCol:U["a"],VIcon:L["a"],VList:B["a"],VListItem:H["a"],VRow:W["a"],VTooltip:G["a"]});var K={name:"TimestampEdit",inheritAttrs:!1,props:{type:{type:String,required:!0},min:Object,max:Object},data:function(){return{disabledSave:!1}},components:{TimestampField:q},methods:{field:function(){return this.$refs.field},onSave:function(){this.$emit("save",this.field().value)},onCancel:function(){this.$emit("cancel")},clear:function(){this.field().clear(),this.disabledSave=!1}}},z=K,J=i("b0af"),Y=i("99d9"),Q=Object(h["a"])(z,x,S,!1,null,"1d697a73",null),Z=Q.exports;M()(Q,{VBtn:F["a"],VCard:J["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:U["a"],VRow:W["a"]});var tt={name:"TimestampMenu",components:{TimestampEdit:Z},props:{type:String,initial:u["c"],min:Object,max:Object},data:function(){return{show:!1}},methods:{onSave:function(t){this.initial.fullSeconds!==t.fullSeconds&&this.$emit("save",t),this.show=!1}}},et=tt,it=i("e449"),nt=Object(h["a"])(et,g,y,!1,null,"d9fd25d6",null),ot=nt.exports;M()(nt,{VBtn:F["a"],VMenu:it["a"],VTooltip:G["a"]});var st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{tile:"",height:"100%",width:"100%"}},[i("v-card-actions",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"2"}}),i("v-col",{staticClass:"d-flex justify-center align-center",attrs:{cols:"8"}},[t.$store.getters.loading?[i("v-skeleton-loader",{attrs:{type:"avatar"}})]:[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:"",disabled:t.noPreviousSection},on:{click:t.previousSection}},Object.assign({},n)),[i("v-icon",[t._v("mdi-skip-previous")])],1)]}}])},[i("span",[t._v("Play previous section")])]),t.isPlay?i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.$store.getters.color[t.$vuetify.theme.dark?"dark":"light"]},on:{click:function(e){return t.$store.getters["video/player/player"].playVideo()}}},Object.assign({},n)),[i("v-icon",{attrs:{dark:""}},[t._v("mdi-play")])],1)]}}],null,!1,943013980)},[t._v("Play ")]):t.isPause?i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.$store.getters.color[t.$vuetify.theme.dark?"dark":"light"]},on:{click:function(e){return t.$store.getters["video/player/player"].pauseVideo()}}},Object.assign({},n)),[i("v-icon",{attrs:{dark:""}},[t._v("mdi-pause")])],1)]}}])},[t._v("Pause ")]):t.isRestart?i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:t.$store.getters.color[t.$vuetify.theme.dark?"dark":"light"]},on:{click:t.restart}},Object.assign({},n)),[i("v-icon",{attrs:{dark:""}},[t._v("mdi-restart")])],1)]}}])},[t._v("Restart ")]):t._e(),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:"",disabled:t.noNextSection},on:{click:t.nextSection}},Object.assign({},n)),[i("v-icon",[t._v("mdi-skip-next")])],1)]}}])},[i("span",[t._v("Play next section")])])]],2),i("v-col",{staticClass:"d-flex justify-end align-center",attrs:{cols:"2"}},[t.$store.getters.loading?t._e():[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:t.showShareDialog}},Object.assign({},n)),[i("v-icon",[t._v("mdi-share")])],1)]}}],null,!1,24109562)},[i("span",[t._v("Share")])])]],2)],1),t.$store.getters.loading?i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"1"}},[i("v-skeleton-loader",{attrs:{type:"text"}})],1),i("v-col",{attrs:{cols:"10"}},[i("v-skeleton-loader",{attrs:{type:"text"}})],1),i("v-col",{attrs:{cols:"1"}},[i("v-skeleton-loader",{attrs:{type:"text"}})],1)],1):i("v-row",{attrs:{dense:""}},[i("v-col",[i("v-slider",{staticClass:"align-center",attrs:{"hide-details":"",color:t.$store.getters.color[t.$vuetify.theme.dark?"dark":"light"],min:t.$store.getters["video/currentSectionStart"].fullSeconds,max:t.$store.getters["video/currentSectionEnd"].fullSeconds},on:{click:t.onClick,start:t.onDragStart,end:t.onDragEnd},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("div",[t._v(t._s(t.currentTime))])]},proxy:!0},{key:"append",fn:function(){return[i("div",[t._v("-"+t._s(t.timeLeft))])]},proxy:!0}]),model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1)],1)],1)],1)],1),i("share-project-dialog",{ref:"shareDialog"})],1)},rt=[],at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{value:t.show,width:"unset"},on:{"click:outside":function(e){t.show=!1}}},[i("v-card",[i("v-card-title",[i("span",[t._v("Share")]),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){t.show=!1}}},Object.assign({},n)),[i("v-icon",[t._v("mdi-close")])],1)]}}])},[i("span",[t._v("Close")])])],1),i("v-card-text",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-textarea",{staticStyle:{"word-break":"break-all"},attrs:{outlined:"",dense:"",readonly:"","auto-grow":"",rows:"2","hide-details":"auto"},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:t.copyToClipboard}},Object.assign({},n)),[i("v-icon",[t._v("mdi-content-copy")])],1)]}}])},[i("span",[t._v("Copy")])])]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1)],1)},ct=[],dt={name:"ShareProjectDialog",data:function(){return{show:!1,value:""}},watch:{show:function(t){t&&(this.value=this.$store.getters["video/export"])}},methods:{copyToClipboard:function(){navigator.clipboard.writeText(this.value)}}},lt=dt,ut=i("169a"),vt=i("2fa4"),ft=i("a844"),ht=Object(h["a"])(lt,at,ct,!1,null,"307a8cbc",null),pt=ht.exports;M()(ht,{VBtn:F["a"],VCard:J["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:U["a"],VDialog:ut["a"],VIcon:L["a"],VRow:W["a"],VSpacer:vt["a"],VTextarea:ft["a"],VTooltip:G["a"]});var mt={name:"PlayerControl",components:{ShareProjectDialog:pt},data:function(){return{sliderValue:0,sliderDrag:!1,unwatchCurrentTime:void 0}},computed:{currentTime:function(){return(this.sliderDrag?u["c"].fromSeconds(this.sliderValue):-1===this.$store.getters["video/player/state"]?this.$store.getters["video/currentSectionStart"]:this.$store.getters["video/currentTime"]).toString()},timeLeft:function(){return(this.sliderDrag?u["c"].fromSeconds(this.$store.getters["video/currentSectionEnd"].fullSeconds-this.sliderValue):this.$store.getters["video/currentSectionTimeLeft"]).toString()},isDisabled:function(){return-1===this.$store.getters["video/player/state"]},isPlay:function(){var t=this.$store.getters["video/player/state"];return 5===t||2===t||-1===t},isPause:function(){var t=this.$store.getters["video/player/state"];return 1===t||3===t},isRestart:function(){return 0===this.$store.getters["video/player/state"]},noPreviousSection:function(){return this.$store.getters["video/sections/index"]<1||this.$store.getters["video/sections/index"]>=this.$store.getters["video/sections/sections"].length},noNextSection:function(){return this.$store.getters["video/sections/index"]<0||this.$store.getters["video/sections/index"]>=this.$store.getters["video/sections/sections"].length-1}},methods:{setSliderValue:function(t){this.sliderDrag||(this.sliderValue=t)},onClick:function(){this.$store.getters["video/player/player"].seekTo(this.sliderValue,!0)},onDragStart:function(){this.sliderDrag=!0},onDragEnd:function(t){this.$store.getters["video/player/player"].seekTo(t,!0),this.value=t,this.sliderDrag=!1},previousSection:function(){this.$store.commit("video/sections/index",this.$store.getters["video/sections/index"]-1),this.$store.getters["video/player/player"].seekTo(this.$store.getters["video/currentSectionStart"].fullSeconds,!0),this.$store.getters["video/player/player"].playVideo()},nextSection:function(){this.$store.commit("video/sections/index",this.$store.getters["video/sections/index"]+1),this.$store.getters["video/player/player"].seekTo(this.$store.getters["video/currentSectionStart"].fullSeconds,!0),this.$store.getters["video/player/player"].playVideo()},restart:function(){var t=0!==this.$store.getters["video/sections/sections"].length?this.$store.getters["video/sections/sections"][0].start.fullSeconds:0;this.$store.getters["video/player/player"].seekTo(t,!0),this.$store.commit("video/sections/index",0)},showShareDialog:function(){this.$refs.shareDialog.show=!0}},mounted:function(){var t=this;this.unwatchCurrentTime=this.$store.watch((function(t,e){return e["video/currentTime"]}),(function(e){return t.setSliderValue(e.fullSeconds)}))},destroyed:function(){this.unwatchCurrentTime()}},gt=mt,yt=i("3129"),xt=i("ba0d"),St=Object(h["a"])(gt,st,rt,!1,null,"6c02af45",null),bt=St.exports;M()(St,{VBtn:F["a"],VCard:J["a"],VCardActions:Y["a"],VCol:U["a"],VIcon:L["a"],VRow:W["a"],VSkeletonLoader:yt["a"],VSlider:xt["a"],VTooltip:G["a"]});var _t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{value:t.show,width:"unset",persistent:!t.closeable},on:{"click:outside":function(e){t.closeable&&(t.show=!1)}}},[i("v-card",[i("v-card-title",[i("span",[t._v("Import")]),t.closeable?[i("v-spacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""},on:{click:function(e){t.show=!1}}},Object.assign({},n)),[i("v-icon",[t._v("mdi-close")])],1)]}}],null,!1,1821825161)},[i("span",[t._v("Close")])])]:t._e()],2),i("v-card-text",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:"Video URL or ID","prepend-icon":"mdi-youtube"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),i("v-row",[i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[i("span",{staticClass:"text-body-1"},[t._v("or")])])],1),i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:"Shared code","prepend-icon":"mdi-share-variant"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)],1)],1)],1)],1)},$t=[],wt=(i("d81d"),i("3756")),kt={name:"ImportProjectDialog",data:function(){return{value:"",code:"",show:!1,closeable:!1}},watch:{show:function(t){t&&(this.value="",this.code="")},value:function(t){var e,i=null!==(e=this.$youtube.getIdFromUrl(t,{fuzzy:!1}))&&void 0!==e?e:t;Object(u["e"])(i)&&(this.$store.commit("video/id",i),this.closeable&&(this.$store.commit("history/clear"),this.$store.commit("video/sections/splice",{index:0,deleteCount:Number.MAX_SAFE_INTEGER}),this.$store.commit("video/sections/index",-1),this.$store.commit("mode",0),this.$emit("rerenderPlayer")),this.$store.commit("video/player/rendering",!0),this.show=!1)},code:function(t){var e=Object(wt["a"])(t);null!==e&&Object(u["e"])(e.id)&&(this.$store.commit("video/id",e.id),this.$store.commit("video/sections/index",0===e.sections.length?-1:0),this.closeable&&(this.$store.commit("history/clear"),this.$store.commit("mode",0),this.$emit("rerenderPlayer")),this.$store.commit("video/sections/splice",{index:0,deleteCount:Number.MAX_SAFE_INTEGER,items:e.sections.map((function(t){return{start:u["c"].fromSeconds(t.start),end:u["c"].fromSeconds(t.end)}}))}),this.$store.commit("video/player/rendering",!0),this.show=!1)}},methods:{showPersistent:function(){this.closeable=!1,this.show=!0},showCloseable:function(){this.closeable=!0,this.show=!0}}},Tt=kt,Vt=Object(h["a"])(Tt,_t,$t,!1,null,"35437bc2",null),Ct=Vt.exports;M()(Vt,{VBtn:F["a"],VCard:J["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:U["a"],VDialog:ut["a"],VIcon:L["a"],VRow:W["a"],VSpacer:vt["a"],VTextField:O["a"],VTooltip:G["a"]});var It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{width:"initial",tile:"","close-on-click":!1,"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g(t._b({staticClass:"text-body-2 pa-0",attrs:{text:"","min-width":"auto"}},"v-btn",o,!1),Object.assign({},s,n)),[t._v(t._s(t.index+1))])]}}],null,!0)},[i("span",[t._v("Edit")])])]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.show?i("v-card",[i("v-card-title",[t._v("Edit index")]),i("v-card-text",{staticStyle:{"padding-bottom":"0"}},[i("v-list",{staticClass:"pa-0",attrs:{dense:""}},[i("v-list-item",{staticClass:"pa-0"},[i("v-row",{attrs:{"no-gutters":"",justify:"center"}},[i("v-col",{staticStyle:{"max-height":"48px"},attrs:{cols:"auto"}},[i("BoundedIntegerField",{ref:"inputField",attrs:{min:1,max:t.$store.getters["video/sections/sections"].length,placeholder:t.index+1},on:{valid:t.onValid,invalid:t.onInvalid,enter:t.onSave}})],1)],1)],1),i("v-list-item",{staticStyle:{"min-height":"auto","padding-left":"0","padding-right":"0","padding-top":"8px"}},[i("v-alert",{ref:"error",staticClass:"text-body-2 ma-0",attrs:{dense:"",text:"",type:"error",icon:!1},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v(t._s(t.errorMessage))])],1)],1)],1),i("v-card-actions",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("v-btn",{attrs:{tile:"",text:"",block:"",small:"",color:"green",disabled:t.error},on:{click:t.onSave}},[t._v("Save")])],1),i("v-col",[i("v-btn",{attrs:{tile:"",text:"",block:"",small:"",color:"red"},on:{click:t.onCancel}},[t._v("Cancel")])],1)],1)],1)],1):t._e()],1)},Et=[],jt={name:"IndexMenu",components:{BoundedIntegerField:P},props:{index:Number},data:function(){return{show:!1,errorMessage:""}},computed:{error:function(){return 0!==this.errorMessage.length}},methods:{onValid:function(){this.errorMessage=""},onInvalid:function(t){switch(t.type){case u["b"].LESS:this.errorMessage="Must be higher or equals than the minimum index of ".concat(t.min);break;case u["b"].GREATER:this.errorMessage="Must be less or equals than the maximum index of ".concat(t.max);break;default:this.errorMessage="Invalid index"}},onSave:function(){var t=this.$refs.inputField.integerValue-1;isNaN(t)||this.index===t||this.$store.dispatch("swapSectionWithHistory",{oldIndex:this.index,newIndex:t}),this.show=!1},onCancel:function(){this.show=!1},clear:function(){this.errorMessage="",this.$refs.inputField.clear()}},watch:{show:function(t){t||this.clear()}}},Mt=jt,Ot=(i("1446"),Object(h["a"])(Mt,It,Et,!1,null,"2a0fe2a0",null)),Rt=Ot.exports;M()(Ot,{VAlert:N["a"],VBtn:F["a"],VCard:J["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:U["a"],VList:B["a"],VListItem:H["a"],VMenu:it["a"],VRow:W["a"],VTooltip:G["a"]});var Pt={name:"Video",components:{IndexMenu:Rt,ImportProjectDialog:Ct,PlayerControl:bt,Player:m,TimestampMenu:ot},data:function(){return{timestampEdit:!1,playerKey:0,showIndex:!1}},computed:{player:function(){return this.$refs.player.player},start:function(){return 0!==this.$store.getters["video/sections/sections"].length?this.$store.getters["video/sections/sections"][0].start.fullSeconds:void 0},splitSectionDisabled:function(){var t=this.$store.getters["video/currentTime"].fullSeconds;return this.$store.getters["video/currentSectionStart"].fullSeconds===t||this.$store.getters["video/currentSectionEnd"].fullSeconds===t}},methods:{rerenderPlayer:function(){this.playerKey+=1},addCurrentSection:function(){this.$store.dispatch("addSectionWithHistory",{start:this.$store.getters["video/currentTime"].clone(),end:this.$store.getters["video/duration"].clone()}),this.$store.commit("video/sections/index",this.$store.getters["video/sections/sections"].length-1)},playSection:function(t){this.$store.commit("video/sections/index",t),this.player.seekTo(this.$store.getters["video/currentSectionStart"].fullSeconds,!0),this.player.playVideo()},splitSection:function(){var t=this.$store.getters["video/currentTime"],e={start:this.$store.getters["video/currentSectionStart"].clone(),end:t.clone()},i={start:t.clone(),end:this.$store.getters["video/currentSectionEnd"].clone()};-1!==this.$store.getters["video/sections/index"]?(this.$store.commit("video/sections/set",{index:this.$store.getters["video/sections/index"],section:e}),this.$store.commit("video/sections/insert",{index:this.$store.getters["video/sections/index"]+1,section:i})):(this.$store.commit("video/sections/add",e),this.$store.commit("video/sections/add",i))},currentTimeChange:function(t){this.$store.commit("video/currentTime",u["c"].fromSeconds(t))},openPersistentImportDialog:function(){this.$refs.importDialog.showPersistent()},openCloseableImportDialog:function(){this.$refs.importDialog.showCloseable()}},mounted:function(){this.$store.getters["video/invalidId"]&&this.openPersistentImportDialog()}},Dt=Pt,At=(i("0ff8"),i("a523")),Nt=i("ce7e"),Ft=i("1f4f"),Ut=Object(h["a"])(Dt,r,a,!1,null,"1676ea58",null),Lt=Ut.exports;M()(Ut,{VAlert:N["a"],VBtn:F["a"],VCard:J["a"],VCardTitle:Y["c"],VCol:U["a"],VContainer:At["a"],VDivider:Nt["a"],VIcon:L["a"],VRow:W["a"],VSimpleTable:Ft["a"],VSkeletonLoader:yt["a"],VTooltip:G["a"]});var Bt=n["a"].extend({name:"App",components:{Video:Lt},data:function(){return{drawer:!1}},methods:{switchMode:function(t){this.$store.dispatch("switchMode",t),0!==t||this.$store.getters.initialMode||(this.$refs.video.rerenderPlayer(),console.log("switchMode"))},openCloseableImportDialog:function(){this.$refs.video.openCloseableImportDialog()}}}),Ht=Bt,Wt=(i("034f"),i("7496")),Gt=i("40dc"),Xt=i("5bc1"),qt=i("1800"),Kt=i("5d23"),zt=i("34c3"),Jt=i("f6c4"),Yt=i("f774"),Qt=i("b73d"),Zt=i("71a3"),te=i("fe57"),ee=i("2a7f"),ie=Object(h["a"])(Ht,o,s,!1,null,null,null),ne=ie.exports;M()(ie,{VAlert:N["a"],VApp:Wt["a"],VAppBar:Gt["a"],VAppBarNavIcon:Xt["a"],VDivider:Nt["a"],VIcon:L["a"],VList:B["a"],VListItem:H["a"],VListItemAction:qt["a"],VListItemActionText:Kt["a"],VListItemIcon:zt["a"],VListItemTitle:Kt["b"],VMain:Jt["a"],VNavigationDrawer:Yt["a"],VSpacer:vt["a"],VSwitch:Qt["a"],VTab:Zt["a"],VTabs:te["a"],VToolbarTitle:ee["a"],VTooltip:G["a"]});var oe=i("9483");Object(oe["a"])("".concat("/vidsnip/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var se=i("f309");n["a"].use(se["a"]);var re=new se["a"]({}),ae=i("e0ec"),ce=i.n(ae);n["a"].use(ce.a);i("99af");var de=i("2909"),le=i("2f62");n["a"].use(le["a"]);var ue={namespaced:!0,state:{index:-1,changes:Array()},getters:{changes:function(t){return t.changes},isUndo:function(t){return t.index>=0},isRedo:function(t){return t.index<t.changes.length-1},undoTooltip:function(t){var e="Undo",i=t.changes[t.index];return void 0!==i&&(e+=" ".concat(Object(u["d"])(i.type))),e},redoTooltip:function(t){var e="Redo",i=t.changes[t.index+1];return void 0!==i&&(e+=" ".concat(Object(u["d"])(i.type))),e}},mutations:{add:function(t,e){t.changes.splice(t.index+1,Number.MAX_SAFE_INTEGER,e),++t.index},clear:function(t){t.changes.splice(0,Number.MAX_SAFE_INTEGER),t.index=-1}},actions:{undo:function(t){if(t.getters.isUndo){var e=t.state.changes[t.state.index];return--t.state.index,e}},redo:function(t){if(t.getters.isRedo){var e=t.state.changes[t.state.index+1];return++t.state.index,e}}}},ve={namespaced:!0,state:{index:-1,sections:Array()},getters:{index:function(t){return t.index},sections:function(t){return t.sections},indexInRange:function(t){return t.index>=0&&t.index<t.sections.length},currentSection:function(t,e){return e.indexInRange?t.sections[t.index]:void 0}},mutations:{add:function(t,e){t.sections.push(e)},set:function(t,e){var i=t.sections[e.index];i&&i!==e.section&&t.sections.splice(e.index,1,e.section)},insert:function(t,e){t.sections.splice(e.index,0,e.section),t.index>=e.index&&++t.index},splice:function(t,e){var i;void 0===e.items||0===e.items.length?t.sections.splice(e.index,e.deleteCount):(i=t.sections).splice.apply(i,[e.index,e.deleteCount].concat(Object(de["a"])(e.items)))},swap:function(t,e){if(e.oldIndex>=0&&e.oldIndex<t.sections.length&&e.newIndex>=0&&e.newIndex<t.sections.length){var i=t.sections[e.newIndex];t.sections.splice(e.newIndex,1,t.sections[e.oldIndex]),t.index===e.oldIndex&&(t.index=e.newIndex),t.sections.splice(e.oldIndex,1,i)}},remove:function(t,e){e>=0&&e<t.sections.length&&(t.index>e?--t.index:t.index===e&&(t.index=-1),t.sections.splice(e,1))},index:function(t,e){e>=-1&&e<t.sections.length&&(t.index=e)}},actions:{setStart:function(t,e){var i=t.state.sections[e.index];i&&i.start.fullSeconds!==e.start.fullSeconds&&t.commit("set",{index:e.index,section:{start:e.start,end:i.end}})},setEnd:function(t,e){var i=t.state.sections[e.index];i&&i.end.fullSeconds!==e.end.fullSeconds&&t.commit("set",{index:e.index,section:{start:i.start,end:e.end}})},removeLast:function(t){t.commit("remove",t.state.sections.length-1)},undoAdd:function(t){t.dispatch("removeLast").then()},redoAdd:function(t,e){t.commit("add",e.section)},undoRemove:function(t,e){t.commit("insert",e)},redoRemove:function(t,e){t.commit("remove",e.index)},undoSplit:function(t,e){void 0===e.first.index?(t.dispatch("removeLast").then(),t.dispatch("removeLast").then()):(t.commit("remove",e.first.index+1),t.commit("set",{index:e.first.index,section:e.first.old}))},redoSplit:function(t,e){void 0===e.first.index?(t.commit("add",e.first.new),t.commit("add",e.second)):(t.commit("set",{index:e.first.index,section:e.first.new}),t.commit("insert",{index:e.first.index+1,section:e.second}))},undoSwap:function(t,e){t.commit("swap",{oldIndex:e.new,newIndex:e.old})},redoSwap:function(t,e){t.commit("swap",{oldIndex:e.old,newIndex:e.new})},undoStartUpdate:function(t,e){t.dispatch("setStart",{index:e.index,start:e.old}).then()},redoStartUpdate:function(t,e){t.dispatch("setStart",{index:e.index,start:e.new}).then()},undoEndUpdate:function(t,e){t.dispatch("setEnd",{index:e.index,end:e.old}).then()},redoEndUpdate:function(t,e){t.dispatch("setEnd",{index:e.index,end:e.new}).then()}}},fe={namespaced:!0,state:{player:void 0,state:-1,rendering:!1,hidden:!0},getters:{player:function(t){return t.player},state:function(t){return t.state},rendering:function(t){return t.rendering},hidden:function(t){return t.hidden}},mutations:{player:function(t,e){t.player=e},state:function(t,e){t.state=e},rendering:function(t,e){t.rendering=e},hidden:function(t,e){t.hidden=e}}},he={namespaced:!0,modules:{player:fe,sections:ve},state:{id:"",currentTime:u["c"].fromSeconds(0),duration:u["c"].fromSeconds(0)},getters:{id:function(t){return t.id},validId:function(t){return 0!==t.id.length},invalidId:function(t){return 0===t.id.length},currentTime:function(t){return t.currentTime},duration:function(t){return t.duration},currentSectionStart:function(t,e){var i=e["sections/currentSection"];return void 0!==i?i.start:new u["c"]},currentSectionEnd:function(t,e){var i=e["sections/currentSection"];return void 0!==i?i.end:t.duration},currentSectionTimeLeft:function(t,e){return u["c"].fromSeconds(e.currentSectionEnd.fullSeconds-t.currentTime.fullSeconds)},export:function(t,e){var i={id:t.id,sections:e["sections/sections"].map((function(t){return{start:t.start.fullSeconds,end:t.end.fullSeconds}}))};return Object(wt["b"])(i)}},mutations:{id:function(t,e){t.id=e},currentTime:function(t,e){t.currentTime=e},duration:function(t,e){t.duration=e},import:function(t,e){var i=Object(wt["a"])(e);null!==i&&(t.sections.sections=i.sections.map((function(t){return{start:u["c"].fromSeconds(t.start),end:u["c"].fromSeconds(t.end)}})),t.id=i.id)}}},pe={namespaced:!0,state:{light:{play:"red darken-1",edit:"green darken-1"},dark:{play:"red darken-3",edit:"green darken-3"}},getters:{play:function(t){return{light:t.light.play,dark:t.dark.play}},edit:function(t){return{light:t.light.edit,dark:t.dark.edit}}}},me=new le["a"].Store({modules:{color:pe,video:he,history:ue},state:{mode:0,initialMode:!0,loaded:!1},getters:{loaded:function(t){return t.loaded},loading:function(t){return!t.loaded},initialMode:function(t){return t.initialMode},color:function(t,e){return e.isPlayMode?e["color/play"]:e["color/edit"]},isPlayMode:function(t){return 0===t.mode},isEditMode:function(t){return 1===t.mode},mode:function(t){return t.mode}},mutations:{loaded:function(t,e){t.loaded=e},mode:function(t,e){t.mode=e},switchMode:function(t,e){0===e&&(t["video/player/state"]=-1,t["video/currentTime"]=0!==t["video/sections/sections"].length?t["video/sections/sections"][0].start:new u["c"],t["video/sections/index"]=0),t.mode=e}},actions:{switchMode:function(t,e){0!==e||t.state.initialMode||(t.commit("video/player/state",-1),t.commit("video/sections/index",0),t.commit("video/currentTime",t.getters["video/currentSectionStart"])),t.commit("mode",e),t.state.initialMode&&(t.state.initialMode=!1)},addSectionWithHistory:function(t,e){t.commit("video/sections/add",e);var i={type:u["a"].SectionAdd,section:e};t.commit("history/add",i)},updateSectionStartWithHistory:function(t,e){var i=t.state.video.sections.sections[e.index];i&&(t.commit("video/sections/set",e),t.commit("history/add",{type:u["a"].SectionStartUpdate,index:e.index,old:i.start,new:e.section.start}))},updateSectionEndWithHistory:function(t,e){var i=t.state.video.sections.sections[e.index];i&&(t.commit("video/sections/set",e),t.commit("history/add",{type:u["a"].SectionEndUpdate,index:e.index,old:i.end,new:e.section.end}))},removeSectionWithHistory:function(t,e){var i=t.state.video.sections.sections[e];if(i){t.commit("video/sections/remove",e);var n={type:u["a"].SectionRemove,index:e,section:i};t.commit("history/add",n)}},swapSectionWithHistory:function(t,e){e.oldIndex>=0&&e.oldIndex<t.getters["video/sections/sections"].length&&e.newIndex>=0&&e.newIndex<t.getters["video/sections/sections"].length&&(t.commit("video/sections/swap",e),t.commit("history/add",{type:u["a"].SectionSwap,old:e.oldIndex,new:e.newIndex}))},splitSectionWithHistory:function(t){var e=t.getters["video/currentTime"],i={start:t.getters["video/currentSectionStart"].clone(),end:e.clone()},n={start:e.clone(),end:t.getters["video/currentSectionEnd"].clone()},o={type:u["a"].SectionSplit,first:{index:void 0,old:void 0,new:i},second:n};if(-1!==t.getters["video/sections/index"]){var s=t.getters["video/sections/index"];o.first.index=s,o.first.old=t.getters["video/sections/currentSection"],t.commit("video/sections/set",{index:s,section:i}),t.commit("video/sections/insert",{index:s+1,section:n})}else t.commit("video/sections/add",i),t.commit("video/sections/add",n);t.commit("history/add",o)},undo:function(t){t.dispatch("history/undo").then((function(e){if(void 0!==e)switch(e.type){case u["a"].SectionAdd:t.dispatch("video/sections/undoAdd",e).then();break;case u["a"].SectionRemove:t.dispatch("video/sections/undoRemove",e).then();break;case u["a"].SectionSplit:t.dispatch("video/sections/undoSplit",e).then();break;case u["a"].SectionSwap:t.dispatch("video/sections/undoSwap",e).then();break;case u["a"].SectionStartUpdate:t.dispatch("video/sections/undoStartUpdate",e).then();break;case u["a"].SectionEndUpdate:t.dispatch("video/sections/undoEndUpdate",e).then();break}}))},redo:function(t){t.dispatch("history/redo").then((function(e){if(void 0!==e)switch(e.type){case u["a"].SectionAdd:t.dispatch("video/sections/redoAdd",e).then();break;case u["a"].SectionRemove:t.dispatch("video/sections/redoRemove",e).then();break;case u["a"].SectionSplit:t.dispatch("video/sections/redoSplit",e).then();break;case u["a"].SectionSwap:t.dispatch("video/sections/redoSwap",e).then();break;case u["a"].SectionStartUpdate:t.dispatch("video/sections/redoStartUpdate",e).then();break;case u["a"].SectionEndUpdate:t.dispatch("video/sections/redoEndUpdate",e).then();break}}))},reload:function(t){t.commit("video/player/hidden",!0),t.state.loaded=!1,t.state.loaded=!0}}});n["a"].config.productionTip=!1,new n["a"]({store:me,vuetify:re,render:function(t){return t(ne)}}).$mount("#app")},cfd8:function(t,e,i){},e492:function(t,e,i){"use strict";var n=i("4a48"),o=i.n(n);o.a}});
//# sourceMappingURL=app.25942e44.js.map